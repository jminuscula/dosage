var dosageApp=angular.module("dosageApp",[]);dosageApp.controller("DrugListCtrl",["$scope","$http",function(t,n){t.search={drugIndicationListQuery:""},t.patient={weight:15,diagnostic:"faringitis"},t.drugs=null,n.get("/data/drugs.json").then(function(n){t.drugs=n.data}),t.drugPosology=function(n,i){var e=Math.round(i*t.patient.weight),o=Math.round(e/n.doses),r=24/n.doses;return{total:e,perDose:o,hours:r}},t.drugQuantity=function(n,i){var e=t.drugPosology(n,i);return e.perDose*n.suspensionMl/n.suspensionMg},t.drugDosages=function(n){for(var i=n.indications[t.patient.diagnostic],e=i.minDose,o=i.maxDose,r=[],a=o-e>=20?10:5,s=e;o>=s;s+=a)r.push(s);return r},t.drugOrIndicationFilter=function(){return function(n){var i=t.search.drugIndicationListQuery.toLowerCase(),e=!1;return 0===n.name.toLowerCase().indexOf(i)?!0:(angular.forEach(n.indications,function(n,o){var r=o.toLowerCase();hasIndication=0===r.indexOf(i),hasIndication&&(t.patient.diagnostic=r,e=!0)}),e)}},t.validateInputWeight=function(){return $("#inputWeight")[0].checkValidity()},t.setInputWeight=function(){return t.patient.weight=$("#inputWeight").val()}}]);